#coding:utf-8
import pymysql
from colorama import init,Fore
init(autoreset=True)
import time

host_mysql=input('主机ip(默认为localhost):')
if host_mysql=='':
	host_mysql='localhost'
port_mysql=input('端口号(默认为18283):')
if port_mysql=='':
	port_mysql=18283
port_mysql=int(port_mysql)
#pymysql连接数据库,并得到游标对象cu
conn=pymysql.connect(host=host_mysql,port=port_mysql,user='lpet6plus',passwd='LPET6Plus',db='lpet6plusdb',charset='utf8')
cu=conn.cursor()

#变量区
biao_list=[]
dic1_maintain={}
dic2_tmp={}
biao_id=[]
delta=0
#field_chinese={'his_Consumption':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','父表MID','宠物MID','主人MID','结算MID','销售人员MID','销售人员名称','服务人员MID','服务人员名称','消费设置MID','消费名称','消费打印名称','消费项目编号','消费项目条形码','计量单位','规格','所属类型','厂家','价格','折扣','实际成交价','数量','用法','用量','排序字段','备注','事件TYPE','发生时刻','状态','处方编组','是否计算库存'],'his_Bill':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','宠物MID','主人MID','出入库单MID','操作员MID','操作员MID','结算单号','账单类型','账单状态','合计金额','折扣','实际支付','抹零金额','优惠金额','账单时间','支付时间','备注'],'his_Bill_Pay':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','账单MID','支付方式快照名称 ','支付方式MID','会员卡记录MID','资金流MID','支付金额','备注'],'his_Consumer':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','编号','姓名','姓名拼音','年龄','性别','手机','电话','地址','等级','押金余额','备注','登记时间'],'his_Pet':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','主人Mid','宠物种类Mid','编号','姓名','姓名拼音','生日','性别','体重','体温','心率','毛色','死亡标记','是否免疫','绝育去势','驱虫标记','登记日期','备注','过敏史','头像'],'his_Notice':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','关联信息Mid','通知标题','内容','通知类型','通知状态','外链地址','通知日期','查看时间'],'his_Record':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','宠物MID','主人MID','住院MID','医生MID','病历日期','诊疗科目','病症分类','体温','体重','呼吸','心率','主诉记录','检验分析','护理记录','处理记录','医嘱','疑似病例','病历状态'],'his_Beauty':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','宠物MID','主人MID','病历日期','编号','名称','销售人员','服务人员','备注'],'his_Time_Card_Log':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','卡MID','操作类型','开卡时间','本次使用多少次','卡内还剩多少次','充值钱数','服务人员','操作人员名称','服务人员','备注'],'his_Time_Card':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','宠物MID','卡名称','开卡时间','可使用次数','已使用资料','备注'],'his_Protection':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','宠物MID','主人MID','病历日期','编号','名称','销售人员','服务人员','备注'],'his_Hospitalization':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','宠物MID','主人MID','医生MID','医生名称','病情分类','住院日期','出院日期','住院状态','备注'],'his_Hospitalization_Daily':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','住院MID','消费设置MID','消费名称','消费打印名称','消费项目编号','消费项目条形码','计量单位','规格','所属类型','厂家','价格','折扣','实际成交价','数量','用法','用量','排序字段','包含首日','备注'],'his_Hospitalization_Consumption':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','住院Mid','汇总的消费日期'],'his_Foster':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','宠物MID','主人MID','医生MID','医生名称','起始日期','结算日期','住院状态','备注'],'his_Foster_Daily':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','寄养MID','消费设置MID','消费名称','消费打印名称','消费项目编号','消费项目条形码','计量单位','规格','所属类型','厂家','价格','折扣','实际成交价','数量','用法','用量','排序字段','包含首日','备注'],'his_Foster_Consumption':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','寄养Mid','汇总的消费日期','备注'],'his_Card':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','卡号','云端卡MID','主人MID','卡类型','余额','积分','折扣','卡类型Mid'],'his_Card_Detail':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','会员卡MID','事件类别','发生时间','发生事件','金额','积分','备注'],'his_Card_Detail_Pay':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','支付方式快照名称 ','支付方式MID','会员卡记录MID','资金流MID','支付金额','备注'],'his_Deposit_Detail':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','主人','事件类别','发生时间','发生事件','押金金额','备注'],'his_Appointment':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','宠物','宠物','宠物','主人','主人','主人','主人电话','提醒类别','提醒来源,是从哪里添加的','提醒对像,可以是专家主键','提醒对像,可以是专家名称','名称','提醒时间','提醒内容','执行时间','状态','短信发送次数','微信发送次数','是否到期自动微信提醒','是否到期自动短信提醒','备注'],'his_Hospital_Focus':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','宠物','主人','状态类型','状态名称','宠物名','相关时间','宠物编号','主人名','当日未结消费','备注'],'his_Examine':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','检验记录项MID','化验人员','化验人员','检验单号','检验报告'],'his_Examine_Result':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','业务明细表','相关文件','结果类型','操作员','操作员','检验项结果','检验项名称','检验标准名称','检验项目单位','检验最高值','检验最低值','检查项备注','备注'],'his_Pet_Room_Log':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','房间MID','房间编号','房间类型','收费标准','入住相关类型MID','入住相关类型','备注'],'his_Pet_Room':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','房间编号','房间类型','收费标准','入住相关类型MID','入住相关类型','备注'],'his_File':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','类别','文件名','标识','MD5','扩展名','容量','文件二进制','存储路径','文件类型'],'G_StockIO':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','往来单位','销售人员','往来单位名称','销售人员名称','编号','类型','类型名称','是否结算完毕','系数','业务日期','备注'],'G_StockIO_Detail':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','出入库单','消费项目表','多单位MID','消费名称','消费打印名称','消费项目编号','消费项目条形码','计量单位','规格','品牌','批次','有效日期','价格','折扣','实际成交价','数量','实际单位','多单位比例','排序字段','备注','当时库存（变动后）','当时成本价(变动后)'],'G_Company':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','往来单位名称','地址','0：客户,1：供应商,2：两者皆是','联系人名称','联系人手机','银行','银行卡号','欠款','欠款额度','预收款余额','预付款余额','描述'],'G_StockBill':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','往来单位名称','往来单位','单号','总金额','支付金额','发生时间','系数','描述','类型','操作员Mid','操作原名'],'G_StockBill_Detail':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','往来结算MID','出入库单','结算金额','描述'],'G_StockBill_Pay':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','往来结算','支付方式','资金流','金额','备注','父表Mid'],'G_Stock':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','消费项目表','数量','批号','有效期','成本价'],'G_Stock_CostPrice':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','消费项目表','年份','月份','成本价','当月库存','当月入库数','上月结存成本','上月结存库存'],'G_Funds':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','编号','往来单位Mid','款项类型（预收或预付）','操作类型','系数','操作金额','余额','备注'],'G_Funds_Pay':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','预收预付','支付方式','系数','资金流','金额','备注'],'C_CashFlow':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','支付方式','金额','类型','类型名称','备注','发生时间'],'C_Public_Pay':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','父表Mid','父表类型枚举','支付方式枚举','资金流Mid','系数,1或-1','金额','备注','时间','相关记录Mid'],'C_Balance':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','资产类别','资产增加值','资产名称','负债类别','负债名称','负债增加值','事件名称','备注'],'C_Charge':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','编号','发生时间','支出或收入','支出类型','摊销支付开始时间','摊销支付结束时间','用途','系数','操作金额','备注'],'C_Charge_Pay':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','收入支出Mid','支付方式','系数','资金流','金额','备注'],'C_Profit':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','类型'],'Con_Commodity':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','商品分类','业务类型','业务类型名称','编号','条形码','名称','拼音','打印名称','标准名称','标准代码','厂家','助记码','规格','单位','参考售价','参考进价','批发价格','最低售价','销售提成','服务提成','参与库存计算','参与折扣','有批号商品','过期日期','库存下限','使用说明','备注'],'Con_Commodity_Unit':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','消费项目','单位名称','比例','售价','条码','备注'],'Con_Commodity_Off':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','消费项目','卡类型','类型','折扣','价格'],'Con_CommodityGroup':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','套餐名称','业务类型','排序值','备注'],'Con_CommodityGroup_Detail':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','套餐MID','消费设置MID','价格','数量','备注','事件TYPE','排序字段','用法','用量','标记'],'Con_CommodityExamineItem':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','名称','标准名','单位','最高值','最低值','所属模板的父节点,分组使用。','备注'],'Con_Category':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','类别名称','父类别','业务类型','业务类型名称','排序字段'],'Con_Employee':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','员工图片','角色MID','编号','姓名','用户名','密码','手机','电话','备注'],'Con_Employee_Permission':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','权限表MID','操作员MID','操作权限','查看权限'],'Con_ClinicTemplet_Class':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','操作员MID','病历模板大类名','排序字段','类别'],'Con_ClinicTemplet_Detail':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','模板大类Mid','病历模板大类名','病历模板明细','排序字段','类别'],'Sys_Permission':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','模块名称','内容名称','备注'],'Sys_Hospital':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','医院名称','国家','省份','城市','地区','院长','地址','手机','电话','联系人','联系电话','注册码','是否授权','授权码','安装人','备注','省份ID','城市ID','地区ID'],'Sys_Config':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','设置KEY','设置名称','设置值'],'Sys_Species':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','类别','拼音','大类','排序'],'Sys_Paytype':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','名称','类别','Key','排序'],'Sys_CardType':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','名称','不使用','折扣','积分金额','积分','备注'],'Sys_Maintain':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','维护人员','维护内容'],'Sys_Role':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','名称','备注'],'Wx_Message':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','主人表','云端消息ID号','消息详情','发送时间','本地接收时间','发送方向','已读取','消息类型'],'Wx_Group':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','消息内容','备注','接收人','发送时间'],'Update_Files':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','文件的MD5','文件名','文件大小','文件字节正文'],'Update_List':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','文件所属的升级版本','文件类型','发部日期','相对目录','文件MD5'],'Tpl_Clinic':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','类型','名称','条目','内容','备注','用户Mid'],'Tpl_Examination':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','检验名称','标准名称','单位','最大值','最小值','年龄段, 幼年','成年','老年','宠物类别：如 猫类,狗类,其它之类的。','所属模板的父节点,分组使用','备注']}
field_chinese={'sys_metercardtype':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','名称','销售提成','服务提成','备注'],'his_metercard':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','计次卡类别MID','卡号','卡类别名称','过期日期','发卡日期','剩余次数','操作人员','操作人员名','备注','顾客mid'],'his_metercard_detail':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','计次卡MID','记录类型','金额','次数变动值','销售人员Mid','销售人员','服务人员Mid','服务人员','本次服务提成','当时剩余次数','备注'],'his_time_card_log_delete':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','卡MID','操作类型','开卡时间','本次使用多少次','卡内还剩多少次','充值钱数','操作人员','操作人员名称','服务人员','备注'],'his_time_card_delete':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','宠物MID','卡名称','开卡时间','可使用次数','已使用资料','备注'],'sys_queue':['ID','表名','时间Mid','操作类型','创建时间','描述'],'his_consumption':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','父表mid','宠物mid','主人mid','结算mid','销售人员mid','销售人员名称','服务人员mid','服务人员名称','消费设置mid','消费名称','消费打印名称','消费项目编号','消费项目条形码','计量单位','规格','所属类型','厂家','价格','折扣','实际成交价','数量','用法','用量','排序字段','备注','事件type','发生时刻','状态','处方编组','是否计算库存','详情mid','是否打折'],'his_bill':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','宠物mid','主人mid','出入库单mid','操作员mid','操作员mid','结算单号','账单类型','账单状态','合计金额','折扣','实际支付','抹零金额','优惠金额','账单时间','支付时间','备注','顾客名','宠物名','顾客手机','次卡记数'],'his_bill_pay':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','账单mid','支付方式快照名称 ','支付方式mid','会员卡记录mid','资金流mid','支付金额','备注'],'his_consumer':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','编号','姓名','姓名拼音','年龄','性别','手机','电话','地址','等级','押金余额','备注','登记时间'],'his_pet':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','主人mid','种类','种类mid','宠物种类mid','编号','姓名','姓名拼音','生日','性别','体重','体温','心率','毛色','死亡标记','是否免疫','绝育去势','驱虫标记','登记日期','备注','过敏史','头像','状态','状态发生时间'],'his_notice':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','关联信息mid','通知标题','内容','通知类型','通知状态','外链地址','通知日期','查看时间'],'his_record':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','宠物mid','主人mid','住院mid','医生mid','医生','病历日期','诊疗科目','病症分类','体温','体重','呼吸','心率','主诉记录','检验分析','护理记录','处理记录','医嘱','疑似病例','病历状态'],'his_beauty':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','宠物mid','主人mid','病历日期','编号','名称','销售人员','服务人员','备注'],'his_time_card_log':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','卡mid','操作类型','开卡时间','本次使用多少次','卡内还剩多少次','充值钱数','服务人员','操作人员名称','服务人员','备注'],'his_time_card':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','宠物mid','卡名称','开卡时间','可使用次数','已使用资料','备注'],'his_protection':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','宠物mid','主人mid','病历日期','编号','名称','销售人员','服务人员','备注'],'his_hospitalization':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','宠物mid','主人mid','医生mid','医生名称','病情分类','住院日期','出院日期','住院状态','备注'],'his_hospitalization_daily':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','住院mid','消费设置mid','消费名称','消费打印名称','消费项目编号','消费项目条形码','计量单位','规格','所属类型','厂家','价格','折扣','实际成交价','数量','用法','用量','排序字段','包含首日','备注'],'his_hospitalization_consumption':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','住院mid','汇总的消费日期'],'his_foster':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','宠物mid','主人mid','医生mid','医生名称','起始日期','结算日期','住院状态','备注'],'his_foster_daily':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','寄养mid','消费设置mid','消费名称','消费打印名称','消费项目编号','消费项目条形码','计量单位','规格','所属类型','厂家','价格','折扣','实际成交价','数量','用法','用量','排序字段','包含首日','备注'],'his_foster_consumption':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','寄养mid','汇总的消费日期','备注'],'his_card':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','卡号','云端卡mid','主人mid','卡类型','余额','积分','折扣','卡类型mid'],'his_card_detail':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','会员卡mid','事件类别','发生时间','发生事件','金额','积分','备注'],'his_card_detail_pay':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','支付方式快照名称 ','支付方式mid','会员卡记录mid','资金流mid','支付金额','备注'],'his_deposit_detail':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','主人','事件类别','发生时间','发生事件','押金金额','备注'],'his_appointment':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','宠物','宠物','宠物','主人','主人','主人','主人电话','提醒类别','提醒来源,是从哪里添加的','提醒对像,可以是专家主键','提醒对像,可以是专家名称','名称','提醒时间','提醒内容','执行时间','状态','短信发送次数','微信发送次数','是否到期自动微信提醒','是否到期自动短信提醒','备注'],'his_hospital_focus':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','宠物','主人','状态类型','状态名称','宠物名','相关时间','宠物编号','主人名','当日未结消费','备注'],'his_examine':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','检验记录项mid','化验人员','化验人员','检验单号','检验报告'],'his_examine_result':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','业务明细表','相关文件','结果类型','操作员','操作员','检验项结果','检验项名称','检验标准名称','检验项目单位','检验最高值','检验最低值','检查项备注','备注'],'his_pet_room_log':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','房间mid','房间编号','房间类型','收费标准','入住相关类型mid','入住相关类型','备注'],'his_pet_room':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','房间编号','房间类型','收费标准','入住相关类型mid','入住相关类型','备注'],'his_file':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','类别','文件名','标识','md5','扩展名','容量','文件二进制','存储路径','文件类型'],'g_stockio':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','往来单位','销售人员','往来单位名称','销售人员名称','编号','类型','类型名称','是否结算完毕','系数','业务日期','备注'],'g_stockio_detail':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','出入库单','消费项目表','多单位mid','消费名称','消费打印名称','消费项目编号','消费项目条形码','计量单位','规格','品牌','批次','有效日期','价格','折扣','实际成交价','数量','实际单位','多单位比例','排序字段','备注','当时库存（变动后）','当时成本价(变动后)'],'g_company':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','往来单位名称','地址','0：客户,1：供应商,2：两者皆是','联系人名称','联系人手机','银行','银行卡号','欠款','欠款额度','预收款余额','预付款余额','描述'],'g_stockbill':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','往来单位名称','往来单位','单号','总金额','支付金额','发生时间','系数','描述','类型','操作员mid','操作原名'],'g_stockbill_detail':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','往来结算mid','出入库单','结算金额','描述'],'g_stockbill_pay':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','往来结算','支付方式','资金流','金额','备注','父表mid'],'g_stock':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','消费项目表','数量','批号','有效期','成本价'],'g_stock_costprice':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','消费项目表','年份','月份','成本价','当月库存','当月入库数','上月结存成本','上月结存库存'],'g_funds':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','编号','往来单位mid','款项类型（预收或预付）','操作类型','系数','操作金额','余额','备注'],'g_funds_pay':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','预收预付','支付方式','系数','资金流','金额','备注'],'c_cashflow':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','支付方式','金额','类型','类型名称','备注','发生时间'],'c_public_pay':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','父表mid','父表类型枚举','支付方式枚举','资金流mid','系数,1或-1','金额','备注','时间','相关记录mid'],'c_balance':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','资产类别','资产增加值','资产名称','负债类别','负债名称','负债增加值','事件名称','备注'],'c_charge':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','编号','发生时间','支出或收入','支出类型','摊销支付开始时间','摊销支付结束时间','用途','系数','操作金额','备注'],'c_charge_pay':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','收入支出mid','支付方式','系数','资金流','金额','备注'],'c_profit':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','类型'],'con_commodity':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','商品分类','业务类型','业务类型名称','编号','条形码','名称','拼音','打印名称','标准名称','标准代码','厂家','助记码','规格','单位','参考售价','参考进价','批发价格','最低售价','销售提成','服务提成','参与库存计算','参与折扣','有批号商品','过期日期','库存下限','使用说明','备注'],'con_commodity_unit':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','消费项目','单位名称','比例','售价','条码','备注'],'con_commodity_off':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','消费项目','卡类型','类型','折扣','价格'],'con_commoditygroup':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','套餐名称','业务类型','排序值','备注'],'con_commoditygroup_detail':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','套餐mid','消费设置mid','价格','数量','备注','事件type','排序字段','用法','用量','标记'],'con_commodityexamineitem':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','名称','标准名','单位','最高值','最低值','所属模板的父节点,分组使用。','备注'],'con_category':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','类别名称','父类别','业务类型','业务类型名称','排序字段'],'con_employee':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','员工图片','角色mid','编号','姓名','用户名','密码','手机','电话','备注'],'con_employee_permission':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','权限表mid','操作员mid','操作权限','查看权限'],'con_clinictemplet_class':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','操作员mid','病历模板大类名','排序字段','类别'],'con_clinictemplet_detail':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','模板大类mid','病历模板大类名','病历模板明细','排序字段','类别'],'sys_permission':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','模块名称','内容名称','备注'],'sys_hospital':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','医院名称','国家','省份','城市','地区','院长','地址','手机','电话','联系人','联系电话','注册码','是否授权','授权码','安装人','备注','省份id','城市id','地区id'],'sys_config':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','设置key','设置名称','设置值'],'sys_species':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','类别','拼音','大类','排序'],'sys_paytype':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','名称','类别','key','排序'],'sys_cardtype':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','名称','不使用','折扣','积分金额','积分','备注'],'sys_maintain':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','维护人员','维护内容'],'sys_role':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','名称','备注'],'wx_message':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','主人表','云端消息id号','消息详情','发送时间','本地接收时间','发送方向','已读取','消息类型'],'wx_group':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','消息内容','备注','接收人','发送时间'],'update_files':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','文件的md5','文件名','文件大小','文件字节正文'],'update_list':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','文件所属的升级版本','文件类型','发部日期','相对目录','文件md5'],'tpl_clinic':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','类型','名称','条目','内容','备注','用户mid'],'tpl_examination':['自增id','主id','状态','创建时间','修改时间','创建者','已上传','检验名称','标准名称','单位','最大值','最小值','年龄段, 幼年','成年','老年','宠物类别：如 猫类,狗类,其它之类的。','所属模板的父节点,分组使用','备注'],'style_report':['自增ID','主ID','状态','创建时间','修改时间','创建者','已上传','表名','大类','小类','条件','sql语句','内容','状态','排序','事件时间']}
#获取库里的所有表名biao_name
cu.execute('SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA = "lpet6plusdb"')
biao_name_init=cu.fetchall()
for i in range(len(biao_name_init)):
	if biao_name_init[i][0]=='update_files':
		pass
	else:	
		biao_list.append(biao_name_init[i][0])

#定义第一次得到的{表名:[对应表里的mid]}字典dic1_maintain
for i in range(len(biao_list)):
	cu.execute('select id from %s'%biao_list[i])
	a=cu.fetchall()

	for i1 in range(len(a)):
		biao_id.append(a[i1][0])
	dic1_maintain[biao_list[i]]=biao_id
	biao_id=[]
#**下面的死循环要不断的对比和维护字典：dic1_maintain

#下面均是在while 1:的循环中
#关键是每次循环都要重新conn=pymysql.connect()和cu=conn.cursor()
while 1:
	conn=pymysql.connect(host=host_mysql,port=port_mysql,user='lpet6plus',passwd='LPET6Plus',db='lpet6plusdb',charset='utf8')
	cu=conn.cursor()

	for i in range(len(biao_list)):
		cu.execute('select id from %s'%biao_list[i])
		x=cu.fetchall()	
		for i1 in range(len(x)):
			biao_id.append(x[i1][0])	
		dic2_tmp[biao_list[i]]=biao_id
		biao_id=[]
#从while 1到这是实时的字典dic2_tmp
#接下来用这两个字典作比较,相同则pass,不同则将不同的id所对应的记录打印出来
		com=list(set(dic2_tmp[biao_list[i]])-set(dic1_maintain[biao_list[i]]))
		if com==[]:
			pass
#因为其它表里有变化sys_queue表就会新增记录，比较麻烦故这块给跳过了，如果想要显示sys_queue里的内容可以将elif及下面紧挨着的pass这两行给注销掉			
		elif biao_list[i]=='sys_queue':
			pass
		else:
			for i2 in range(len(com)):
				cu.execute('select * from {} where id={}'.format(biao_list[i],com[i2]))
				q=cu.fetchall()
				print('表'+Fore.GREEN +biao_list[i],end='')
				print('新增一条记录')
#				print(q)			
				for i3 in range(len(field_chinese[biao_list[i]])):
					print(str(field_chinese[biao_list[i]][i3])+':'+str(q[0][i3]))			
#如果有新增的话则在print(q)之后要维护dic1_maintain这个字典
				dic1_maintain[biao_list[i]].append(com[i2])
				print('*'*50)
				print(delta)
				delta+=1